"$schema" = "https://starship.rs/config-schema.json"

add_newline = false
scan_timeout = 30
command_timeout = 800

format = """
[░▒▓](fg:#78728B) \
$os\
$username\
$hostname\
$directory\
$git_branch\
$git_status\
$git_state\
$git_metrics\
$fill\
$docker_context\
$kubernetes\
$aws\
$gcloud\
$terraform\
$package\
$nodejs\
$python\
$rust\
$golang\
$php\
$java\
$lua\
$ruby\
$dotnet\
$swift\
$cmd_duration\
$memory_usage\
$jobs\
$status\
$battery\
$time\
\n$character
"""

# Campo topografico: fluido ma governato
[fill]
symbol = "┈"
style = "fg:#78728B"

# -------------------------
# Core identity (left)
# -------------------------
[os]
disabled = false
style = "bg:#2A2633 fg:#A454FF"
format = "[ $symbol ]($style) "
[os.symbols]
Arch = "󰣇"

[username]
disabled = false
show_always = false
style_user = "bg:#2A2633 fg:#A591FF"
style_root = "bg:#2A2633 fg:#F48FFF bold"
format = "[ $user ]($style) "

[hostname]
disabled = false
ssh_only = true
style = "bg:#2A2633 fg:#78728B"
format = "[ $hostname ]($style) "

[directory]
style = "bg:#2A2633 fg:#FEFCFF"
read_only = " "
read_only_style = "bg:#2A2633 fg:#F056FF"
format = "[ $path ]($style)[$read_only]($read_only_style) "
truncation_length = 3
truncation_symbol = "…/"
home_symbol = "~"
truncate_to_repo = true
use_os_path_sep = true

# (tolte le substitutions con icone: ora solo nomi directory, pulito)

# -------------------------
# Git (core = gemma, status = controllo)
# -------------------------
[git_branch]
symbol = ""
style = "bg:#2A2633 fg:#A454FF"
format = "[ $symbol $branch ]($style) "

[git_status]
style = "bg:#2A2633 fg:#78728B"
format = "[ $all_status$ahead_behind ]($style) "

conflicted  = "[≠${count}](fg:#F48FFF)"
ahead       = "[⇡${count}](fg:#AB61FF)"
behind      = "[⇣${count}](fg:#A454FF)"
diverged    = "[⇕⇡${ahead_count}⇣${behind_count}](fg:#C77DFF)"
up_to_date  = "[·](fg:#78728B)"

untracked   = "[?${count}](fg:#A591FF)"
stashed     = "[*${count}](fg:#B167E9)"
modified    = "[!${count}](fg:#E086F9)"
staged      = "[+${count}](fg:#8977D9)"
renamed     = "[»${count}](fg:#9780FF)"
deleted     = "[✘${count}](fg:#F056FF)"
typechanged = "[~${count}](fg:#E896FF)"

[git_state]
style = "bg:#2A2633 fg:#E086F9"
format = "[ $state( $progress_current/$progress_total) ]($style) "

[git_metrics]
disabled = false
only_nonzero_diffs = true
added_style = "bg:#2A2633 fg:#8977D9"
deleted_style = "bg:#2A2633 fg:#F056FF"
format = "[ +$added ]($added_style)[ -$deleted ]($deleted_style) "

# -------------------------
# Context / Cloud / IaC (secondari, coerenti)
# -------------------------
[docker_context]
style = "fg:#9780FF"
format = "[ $context]($style) "

[kubernetes]
disabled = false
style = "fg:#9780FF"
format = "[󱃾 $context(:$namespace)]($style) "

[aws]
style = "fg:#E086F9"
symbol = " "
format = "[$symbol$profile(@$region)]($style) "

[gcloud]
style = "fg:#9780FF"
symbol = "󰅟 "
format = "[$symbol$account(@$domain)(:$project)(@$region)]($style) "

[terraform]
style = "fg:#B167E9"
symbol = "󱁢 "
format = "[$symbol$workspace]($style) "

[package]
style = "fg:#DDCEF3"
symbol = "󰏗 "
format = "[$symbol$version]($style) "

# -------------------------
# Languages (uniformi = calm; icone ok)
# -------------------------
[nodejs]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

[python]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol $version$virtualenv]($style) "

[rust]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

[golang]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

[php]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

[java]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

[lua]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

[ruby]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

[dotnet]
style = "fg:#9780FF"
symbol = "󰪮 "
format = "[$symbol$version]($style) "

[swift]
style = "fg:#9780FF"
symbol = " "
format = "[$symbol$version]($style) "

# -------------------------
# Utilities (silenziose)
# -------------------------
[cmd_duration]
min_time = 750
style = "fg:#78728B"
format = "[ $duration]($style) "

[memory_usage]
disabled = false
threshold = 75
style = "fg:#78728B"
format = "[󰍛 ${ram}( | ${swap})]($style) "

[jobs]
style = "fg:#78728B"
symbol = "󰜎 "
format = "[$symbol$number]($style) "

[status]
disabled = false
style = "fg:#F056FF"
format = "[✖ $status]($style) "

[battery]
disabled = false
format = "[$symbol$percentage]($style) "
charging_symbol = "󰂄 "
discharging_symbol = "󰂃 "
full_symbol = "󰁹 "
unknown_symbol = "󰂑 "
empty_symbol = "󰂎 "

[[battery.display]]
threshold = 10
style = "fg:#F056FF"
[[battery.display]]
threshold = 30
style = "fg:#E086F9"
[[battery.display]]
threshold = 100
style = "fg:#8977D9"

# FIX: niente nesting, formato valido
[time]
disabled = false
time_format = "%R"
style = "fg:#C77DFF"
format = "[ $time]($style) "

# Signature
[character]
success_symbol = "[▸](fg:#A454FF)[●](fg:#C77DFF) "
error_symbol   = "[▸](fg:#F056FF)[●](fg:#C77DFF) "
vimcmd_symbol  = "[◂](fg:#9780FF)[●](fg:#C77DFF) "